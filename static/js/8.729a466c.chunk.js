(this.webpackJsonpresponsive=this.webpackJsonpresponsive||[]).push([[8],{119:function(e,t,a){},141:function(e,t,a){"use strict";a.r(t);var n=a(8),i=a(12),r=a(10),l=a(9),o=a(19),s=a(11),c=a(0),d=a.n(c),u=a(74),f=a(75),m=a(59),p=a.n(m),h=(a(119),function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(a=Object(r.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).yesNoTemplate=function(e){var t=e[a.props.field]?"green":"red";return t+=" center",d.a.createElement("div",{className:t},e[a.props.field]?"Yes":"No")},a.dateShortTemplate=function(e){return 0===e[a.props.field]?"Never":d.a.createElement(p.a,{date:e[a.props.field],format:"D MMM YYYY"})},a.dateFromNowTemplate=function(e){if(0===e[a.props.field])return"Never";var t=e[a.props.field]>(new Date).getTime();return d.a.createElement(p.a,{className:t?"green":"red",fromNow:!0},e[a.props.field])},a}return Object(s.a)(t,e),t}(c.Component)),b=a(56),v=a(58),y=a.n(v),g=a(6),k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).columnModel=[{field:"user",header:"User",width:140},{field:"mac",header:"MAC Address",width:140},{field:"name",header:"Name",width:200},{field:"role",header:"Role",width:80},{field:"manufacturer",header:"Manufacturer",width:120},{field:"type",header:"Type",width:130},{field:"model",header:"Model",width:80},{field:"status",header:"Status",width:70},{field:"credentials",header:"Credentials",width:110},{field:"enabled",header:"Enabled",width:80,formatter:new h({field:"enabled"}).yesNoTemplate},{field:"active",header:"Active",width:80,formatter:new h({field:"active"}).yesNoTemplate},{field:"added",header:"Added",width:100,formatter:new h({field:"added"}).dateShortTemplate},{field:"expires",header:"Cert Expires",width:100,formatter:new h({field:"expires"}).dateFromNowTemplate}],a.useOverlay=function(){var e=y.a.parse(a.props.location.search);return!e.useOverlay||"false"!==e.useOverlay},a.buildMenu=function(e){var t;if(e.length>0){t={label:"Actions",items:[]},1===e.length&&t.items.push({label:"Edit",command:function(){}});var n=0,i=0;e.forEach((function(e){e.enabled?n++:i++})),n>0&&t.items.push({label:"Disable",command:function(){a.setEnabledState(!1)}}),i>0&&t.items.push({label:"Enable",command:function(){a.setEnabledState(!0)}})}return t},a.setEnabledState=function(e){a.state.selected.forEach((function(t){t.enabled=e,a.deviceDataService.update(t).then((function(e){a.deviceDataService.reload()}))}))},a.onSelectionChanged=function(e){a.setState({selected:e})},a.state={selected:[]},a.deviceDataService=new b.a,a.onSelectionChanged=a.onSelectionChanged.bind(Object(o.a)(a)),a.setEnabledState=a.setEnabledState.bind(Object(o.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return d.a.createElement("div",{style:{margin:"10px"}},d.a.createElement(u.a,{label:"Devices",breakpoints:[600,1e3,1500],breakpointColumns:[3,7,12],columnModel:this.columnModel,dataService:this.deviceDataService,menuProvider:this,selectionChangedCallback:this.onSelectionChanged,nameField:"user",line1Field:"user",line2Field:"mac",line3Field:"name",useOverlay:this.useOverlay(),detailWidth:450},d.a.createElement(f.default,null)))}}]),t}(c.Component);t.default=Object(g.f)(k)},56:function(e,t,a){"use strict";var n=a(55),i=a(53),r=a(8),l=a(10),o=a(9),s=a(11),c=a(0),d=function(e){function t(){var e,a;Object(r.a)(this,t);for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).config={offest:0,limit:20,sort:null,filter:null},a.list=function(e){if(e&&(a.config=Object(i.a)({},a.config,{},e)),a.config.filter&&0!==a.config.filter.length){var t=a.fakeData.filter((function(e){return e.user.includes(a.config.filter)}));return Promise.resolve(t)}return Promise.resolve(a.fakeData)},a.get=function(e){e="string"===typeof e?parseInt(e):e;for(var t=0;t<a.fakeData.length;t++)if(a.fakeData[t].id===e)return Promise.resolve(a.fakeData[t]);return Promise.reject("No such Id")},a.update=function(e){var t=a.fakeData.indexOf(e);return-1===t?Promise.reject("No such item with id: "+e.id):(a.fakeData[t]=e,Promise.resolve(e))},a.create=function(e){return a.fakeData.push(e),Promise.resolve(e)},a.delete=function(e){if(Array.isArray(e)){var t=Object(n.a)(a.fakeData);e.forEach((function(e){var a=t.indexOf(e);if(-1===a)return Promise.reject("No such item with id: "+e.id);t.splice(a,1)})),a.fakeData=t}else{var i=a.fakeData.indexOf(e);if(-1===i)return Promise.reject("No such item with id: "+e.id);a.fakeData.splice(i,1)}return Promise.resolve(a.fakeData)},a.dataChanged=function(){a.props.dataChangedCallback()},a.setReloadCallback=function(e){a.reloadCallback=e},a.reload=function(){a.reloadCallback()},a.fakeData=[{id:0,user:"Fred Flintstone",role:"student",manufacturer:"Samsung",type:"Galaxy",model:"S8",mac:"11:22:33:44:55:66",name:"Personal cell phone",status:"online",credentials:"certificate",enabled:!0,active:!0,added:1564076127e3,expires:1588523327e3},{id:1,user:"Fred Flintstone",role:"student",manufacturer:"Apple",type:"iPhone",model:"X",mac:"22:33:44:55:66:77",name:"Work cell phone",status:"online",credentials:"certificate",enabled:!0,active:!0,added:1563076127e3,expires:1566076127e3},{id:2,user:"Fred Flintstone",role:"student",manufacturer:"Roku",type:"Streaming Stick",model:"3800",mac:"33:44:55:66:77:88",name:"Livingroom Roku",status:"offline",credentials:"MPSK",enabled:!0,active:!0,added:1553076127e3,expires:1656076127e3},{id:3,user:"Barney Rubble",role:"faculty",manufacturer:"Roku",type:"Streaming Stick",model:"3800",mac:"44:55:66:77:88:99",name:"Bedroom Roku",status:"online",credentials:"MPSK",enabled:!0,active:!0,added:0xf5303a7d18,expires:0},{id:4,user:"Barney Rubble",role:"faculty",manufacturer:"Apple",type:"iPhone",model:"5",mac:"55:66:77:88:99:aa",name:"Personal cell phone",status:"online",credentials:"certificate",enabled:!0,active:!0,added:1500076127e3,expires:1550076127e3}],a}return Object(s.a)(t,e),t}(a.n(c).a.Component);t.a=d,d.defaultProps={dataChangedCallback:function(){}}},75:function(e,t,a){"use strict";a.r(t);var n=a(8),i=a(12),r=a(10),l=a(9),o=a(19),s=a(11),c=a(0),d=a.n(c),u=a(59),f=a.n(u),m=a(15),p=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"p-grid p-align-center p-nogutter"},d.a.createElement(m.Button,{className:this.props.buttonClass,icon:"pi pi-"+this.props.iconName,onClick:this.props.onClick}),d.a.createElement("div",{className:"p-col-fixed",style:{marginLeft:"5px"}},this.props.label)))}}]),t}(c.Component),h=p;p.defaultProps={iconName:"question",label:"No Label",onClick:function(){alert("Please add an onClick handle")}};var b=a(54),v=a(56),y=a(21),g=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).panelStyle={marginLeft:"20px"},a.onlineStyle={color:"green",fontSize:"18px",fontStyle:"bold"},a.offlineStyle={color:"red",fontSize:"18px",fontStyle:"bold"},a.buttonStyle={marginRight:"20px",marginBottom:"10px"},a.buildValues=function(e){var t="/user/"+e.userId,a="/role/"+e.roleId,n=[];n.push(e.enabled?"Yes":"No"),n.push(d.a.createElement(d.a.Fragment,null,d.a.createElement("a",{href:t},e.user)," (",d.a.createElement("a",{href:a},e.role),")")),n.push(e.name);var i=e.credentials;return i+="certificate"===i?" (expires in 234 days)":"",n.push(i),n.push(d.a.createElement(f.a,{date:e.added})),n.push(d.a.createElement(f.a,{date:e.lastSeen})),n},a.onClose=function(){a.props.onClose()},a.state={itemData:a.props.itemData},a.props.itemData||(a.dataService=new v.a),a.onClose=a.onClose.bind(Object(o.a)(a)),a.escFunction=a.escFunction.bind(Object(o.a)(a)),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"escFunction",value:function(e){27===e.keyCode&&this.onClose()}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"render",value:function(){var e=this,t=this.props.itemId?this.state.itemData:this.props.itemData;return t||this.props.itemId?!t&&this.props.itemId?(this.dataService.get(this.props.itemId).then((function(t){e.setState({itemData:t})}),(function(e){return{reason:e}})),d.a.createElement(y.a,null)):d.a.createElement("div",{style:this.panelStyle},d.a.createElement("div",{className:"p-grid p-align-center p-nogutter",style:{marginBottom:"10px"}},d.a.createElement("div",{className:"p-col-fixed",style:{fontSize:"24px",marginRight:"40px"}},"Device Details"),d.a.createElement("div",{className:"p-col-fixed",style:"online"===t.status?this.onlineStyle:this.offlineStyle},"online"===t.status?"Online":"Offline"),d.a.createElement("div",{className:"p-col",style:{width:"100%"}}),this.props.showClose&&d.a.createElement("i",{className:"p-col-fixed pi pi-times",onClick:this.onClose,style:{fontSize:"28px",color:"lightgrey",marginLeft:"40px",cursor:"pointer"}})),d.a.createElement("div",{style:{fontSize:"18px"}},t.manufacturer," ",t.type," ",t.model," (",t.mac,")"),d.a.createElement("div",{style:{margin:"20px"}},d.a.createElement(b.a,{labels:["Enabled","User","Name","Credentials","Added","Last Seen"],values:this.buildValues(t)})),d.a.createElement("div",{className:"p-grid p-align-center p-nogutter",style:{marginBottom:"10px"}},d.a.createElement("div",{className:"p-col-fixed",style:this.buttonStyle},d.a.createElement(h,{iconName:"power-off",label:"Disable",onClick:function(){alert("Clicked Disable")}})),d.a.createElement("div",{className:"p-col-fixed",style:this.buttonStyle},d.a.createElement(h,{iconName:"trash",label:"Delete",onClick:function(){alert("Clicked Delete")}})),d.a.createElement("div",{className:"p-col-fixed",style:this.buttonStyle},d.a.createElement(h,{iconName:"replay",label:"Revoke Certificate",onClick:function(){alert("Clicked Revoke")}}))),d.a.createElement("div",{style:{fontSize:"18px",marginTop:"20px"}},"Recent Activity"),d.a.createElement("div",{style:{margin:"20px"}},d.a.createElement(b.a,{labels:["An Hour ago","A day ago","3 days ago"],values:["Something interesting happened here","Not quite as interesting, but still interesting","OMG, this is really bad. Something needs to be done"]}))):null}}]),t}(c.Component);t.default=g;g.defaultProps={onClose:function(){},showClose:!0}}}]);
//# sourceMappingURL=8.729a466c.chunk.js.map