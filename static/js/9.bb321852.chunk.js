(this.webpackJsonpresponsive=this.webpackJsonpresponsive||[]).push([[9],{122:function(e,t,a){},144:function(e,t,a){"use strict";a.r(t);var n=a(8),i=a(11),r=a(18),l=a(10),o=a(9),s=a(0),c=a.n(s),d=a(76),u=a(77),f=a(60),m=a.n(f),p=(a(122),function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).yesNoTemplate=function(t){var a=t[e.props.field]?"green":"red";return a+=" center",c.a.createElement("div",{className:a},t[e.props.field]?"Yes":"No")},e.dateShortTemplate=function(t){return 0===t[e.props.field]?"Never":c.a.createElement(m.a,{date:t[e.props.field],format:"D MMM YYYY"})},e.dateFromNowTemplate=function(t){if(0===t[e.props.field])return"Never";var a=t[e.props.field]>(new Date).getTime();return c.a.createElement(m.a,{className:a?"green":"red",fromNow:!0},t[e.props.field])},e}return a}(s.Component)),h=a(57),v=a(59),b=a.n(v),y=a(6),g=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).columnModel=[{field:"user",header:"User",width:140},{field:"mac",header:"MAC Address",width:140},{field:"name",header:"Name",width:200},{field:"role",header:"Role",width:80},{field:"manufacturer",header:"Manufacturer",width:120},{field:"type",header:"Type",width:130},{field:"model",header:"Model",width:80},{field:"status",header:"Status",width:70},{field:"credentials",header:"Credentials",width:110},{field:"enabled",header:"Enabled",width:80,formatter:new p({field:"enabled"}).yesNoTemplate},{field:"active",header:"Active",width:80,formatter:new p({field:"active"}).yesNoTemplate},{field:"added",header:"Added",width:100,formatter:new p({field:"added"}).dateShortTemplate},{field:"expires",header:"Cert Expires",width:100,formatter:new p({field:"expires"}).dateFromNowTemplate}],i.useOverlay=function(){var e=b.a.parse(i.props.location.search);return!e.useOverlay||"false"!==e.useOverlay},i.buildMenu=function(e){var t;if(e.length>0){t={label:"Actions",items:[]},1===e.length&&t.items.push({label:"Edit",command:function(){}});var a=0,n=0;e.forEach((function(e){e.enabled?a++:n++})),a>0&&t.items.push({label:"Disable",command:function(){i.setEnabledState(!1)}}),n>0&&t.items.push({label:"Enable",command:function(){i.setEnabledState(!0)}})}return t},i.setEnabledState=function(e){i.state.selected.forEach((function(t){t.enabled=e,i.deviceDataService.update(t).then((function(e){i.deviceDataService.reload()}))}))},i.onSelectionChanged=function(e){i.setState({selected:e})},i.state={selected:[]},i.deviceDataService=new h.a,i.onSelectionChanged=i.onSelectionChanged.bind(Object(r.a)(i)),i.setEnabledState=i.setEnabledState.bind(Object(r.a)(i)),i}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{style:{margin:"10px"}},c.a.createElement(d.a,{label:"Devices",breakpoints:[600,1e3,1500],breakpointColumns:[3,7,12],columnModel:this.columnModel,dataService:this.deviceDataService,menuProvider:this,selectionChangedCallback:this.onSelectionChanged,nameField:"user",line1Field:"user",line2Field:"mac",line3Field:"name",useOverlay:this.useOverlay(),detailWidth:450},c.a.createElement(u.default,null)))}}]),a}(s.Component);t.default=Object(y.f)(g)},57:function(e,t,a){"use strict";var n=a(56),i=a(53),r=a(8),l=a(10),o=a(9),s=a(0),c=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var l=arguments.length,o=new Array(l),s=0;s<l;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).config={offest:0,limit:20,sort:null,filter:null},e.list=function(t){if(t&&(e.config=Object(i.a)({},e.config,{},t)),e.config.filter&&0!==e.config.filter.length){var a=e.fakeData.filter((function(t){return t.user.includes(e.config.filter)}));return Promise.resolve(a)}return Promise.resolve(e.fakeData)},e.get=function(t){t="string"===typeof t?parseInt(t):t;for(var a=0;a<e.fakeData.length;a++)if(e.fakeData[a].id===t)return Promise.resolve(e.fakeData[a]);return Promise.reject("No such Id")},e.update=function(t){var a=e.fakeData.indexOf(t);return-1===a?Promise.reject("No such item with id: "+t.id):(e.fakeData[a]=t,Promise.resolve(t))},e.create=function(t){return e.fakeData.push(t),Promise.resolve(t)},e.delete=function(t){if(Array.isArray(t)){var a=Object(n.a)(e.fakeData);t.forEach((function(e){var t=a.indexOf(e);if(-1===t)return Promise.reject("No such item with id: "+e.id);a.splice(t,1)})),e.fakeData=a}else{var i=e.fakeData.indexOf(t);if(-1===i)return Promise.reject("No such item with id: "+t.id);e.fakeData.splice(i,1)}return Promise.resolve(e.fakeData)},e.dataChanged=function(){e.props.dataChangedCallback()},e.setReloadCallback=function(t){e.reloadCallback=t},e.reload=function(){e.reloadCallback()},e.fakeData=[{id:0,user:"Fred Flintstone",role:"student",manufacturer:"Samsung",type:"Galaxy",model:"S8",mac:"11:22:33:44:55:66",name:"Personal cell phone",status:"online",credentials:"certificate",enabled:!0,active:!0,added:1564076127e3,expires:1588523327e3},{id:1,user:"Fred Flintstone",role:"student",manufacturer:"Apple",type:"iPhone",model:"X",mac:"22:33:44:55:66:77",name:"Work cell phone",status:"online",credentials:"certificate",enabled:!0,active:!0,added:1563076127e3,expires:1566076127e3},{id:2,user:"Fred Flintstone",role:"student",manufacturer:"Roku",type:"Streaming Stick",model:"3800",mac:"33:44:55:66:77:88",name:"Livingroom Roku",status:"offline",credentials:"MPSK",enabled:!0,active:!0,added:1553076127e3,expires:1656076127e3},{id:3,user:"Barney Rubble",role:"faculty",manufacturer:"Roku",type:"Streaming Stick",model:"3800",mac:"44:55:66:77:88:99",name:"Bedroom Roku",status:"online",credentials:"MPSK",enabled:!0,active:!0,added:0xf5303a7d18,expires:0},{id:4,user:"Barney Rubble",role:"faculty",manufacturer:"Apple",type:"iPhone",model:"5",mac:"55:66:77:88:99:aa",name:"Personal cell phone",status:"online",credentials:"certificate",enabled:!0,active:!0,added:1500076127e3,expires:1550076127e3}],e}return a}(a.n(s).a.Component);t.a=c,c.defaultProps={dataChangedCallback:function(){}}},77:function(e,t,a){"use strict";a.r(t);var n=a(8),i=a(11),r=a(18),l=a(10),o=a(9),s=a(0),c=a.n(s),d=a(60),u=a.n(d),f=a(14),m=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"p-grid p-align-center p-nogutter"},c.a.createElement(f.Button,{className:this.props.buttonClass,icon:"pi pi-"+this.props.iconName,onClick:this.props.onClick}),c.a.createElement("div",{className:"p-col-fixed",style:{marginLeft:"5px"}},this.props.label)))}}]),a}(s.PureComponent),p=m;m.defaultProps={iconName:"question",label:"No Label",onClick:function(){alert("Please add an onClick handle")}};var h=a(54),v=a(57),b=a(20),y=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).panelStyle={marginLeft:"20px"},i.onlineStyle={color:"green",fontSize:"18px",fontStyle:"bold"},i.offlineStyle={color:"red",fontSize:"18px",fontStyle:"bold"},i.buttonStyle={marginRight:"20px",marginBottom:"10px"},i.buildValues=function(e){var t="/user/"+e.userId,a="/role/"+e.roleId,n=[];n.push(e.enabled?"Yes":"No"),n.push(c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{href:t},e.user)," (",c.a.createElement("a",{href:a},e.role),")")),n.push(e.name);var i=e.credentials;return i+="certificate"===i?" (expires in 234 days)":"",n.push(i),n.push(c.a.createElement(u.a,{date:e.added})),n.push(c.a.createElement(u.a,{date:e.lastSeen})),n},i.onClose=function(){i.props.onClose()},i.state={itemData:i.props.itemData},i.props.itemData||(i.dataService=new v.a),i.onClose=i.onClose.bind(Object(r.a)(i)),i.escFunction=i.escFunction.bind(Object(r.a)(i)),i}return Object(i.a)(a,[{key:"escFunction",value:function(e){27===e.keyCode&&this.onClose()}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"render",value:function(){var e=this,t=this.props.itemId?this.state.itemData:this.props.itemData;return t||this.props.itemId?!t&&this.props.itemId?(this.dataService.get(this.props.itemId).then((function(t){e.setState({itemData:t})}),(function(e){return{reason:e}})),c.a.createElement(b.a,null)):c.a.createElement("div",{style:this.panelStyle},c.a.createElement("div",{className:"p-grid p-align-center p-nogutter",style:{marginBottom:"10px"}},c.a.createElement("div",{className:"p-col-fixed",style:{fontSize:"24px",marginRight:"40px"}},"Device Details"),c.a.createElement("div",{className:"p-col-fixed",style:"online"===t.status?this.onlineStyle:this.offlineStyle},"online"===t.status?"Online":"Offline"),c.a.createElement("div",{className:"p-col",style:{width:"100%"}}),this.props.showClose&&c.a.createElement("i",{className:"p-col-fixed pi pi-times",onClick:this.onClose,style:{fontSize:"28px",color:"lightgrey",marginLeft:"40px",cursor:"pointer"}})),c.a.createElement("div",{style:{fontSize:"18px"}},t.manufacturer," ",t.type," ",t.model," (",t.mac,")"),c.a.createElement("div",{style:{margin:"20px"}},c.a.createElement(h.a,{labels:["Enabled","User","Name","Credentials","Added","Last Seen"],values:this.buildValues(t)})),c.a.createElement("div",{className:"p-grid p-align-center p-nogutter",style:{marginBottom:"10px"}},c.a.createElement("div",{className:"p-col-fixed",style:this.buttonStyle},c.a.createElement(p,{iconName:"power-off",label:"Disable",onClick:function(){alert("Clicked Disable")}})),c.a.createElement("div",{className:"p-col-fixed",style:this.buttonStyle},c.a.createElement(p,{iconName:"trash",label:"Delete",onClick:function(){alert("Clicked Delete")}})),c.a.createElement("div",{className:"p-col-fixed",style:this.buttonStyle},c.a.createElement(p,{iconName:"replay",label:"Revoke Certificate",onClick:function(){alert("Clicked Revoke")}}))),c.a.createElement("div",{style:{fontSize:"18px",marginTop:"20px"}},"Recent Activity"),c.a.createElement("div",{style:{margin:"20px"}},c.a.createElement(h.a,{labels:["An Hour ago","A day ago","3 days ago"],values:["Something interesting happened here","Not quite as interesting, but still interesting","OMG, this is really bad. Something needs to be done"]}))):null}}]),a}(s.Component);t.default=y;y.defaultProps={onClose:function(){},showClose:!0}}}]);
//# sourceMappingURL=9.bb321852.chunk.js.map